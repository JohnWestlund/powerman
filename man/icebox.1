\." $Id$
.\"
.TH ICEBOX 1 "Release 0.1.7" "LLNL" "ICEBOX"

.SH NAME
icebox \- low-level power monitoring queries

.SH SYNOPSIS
.B icebox
.I "[-options]"
.LP
.B icebox
.I "[-options] [command]"
.LP
.B icebox
.I "[-options] ice <tty> <box> <com>"
.SH DESCRIPTION
.B icebox
is a low level utility in support of the PowerMan power management 
program.  It either (a) communicates with a tty to determine
the power or temperature status of a node, (b) communicates with the 
tty to set the power status of a node, or (c) communicates with 
the tty to issue commands to the icebox.
For a command in 
.I "[on, off, reset]"
.B icebox
will carry out the given power control command.  N.B. "reset" is an actual
reset of the CPUs not a power off followed by a power on.  
.B icebox
conforms to the PowerMan power monitoring interface.  One will generally
prefer to use 
.B pm
rather than this low-level utility, but its use is not forbidden.
The special command 
.I "ice <tty> <box> <com>"
is supported to give a knowlegable user access to icebox control commands, 
i.e. commands directed at the icebox itself.
Those commands are not supported by 
.B pm
.LPOptions are described in TARGET NODE LIST OPTIONS and OTHER OPTIONS below.
.LP
.B icebox
queries the target nodes for their power status and prints the names of 
those that are on, one per line (but see -r below).
.LP
The POWERMAN environment variable, if set, identifies an alternate 
directory for the PowerMan libraries and configuration files.

.SH TARGET NODE LIST OPTIONS
.I "-w host,host,..."
Target the specified nodes.  No spaces are allowed in the comma-separated
list.  Substituting the "-" character for the list causes the target nodes
to be read from stdin, one per line.
.LP
.I "-a"
Target "all" nodes in the cluster.  
.B icebox
determines the list of nodes in the cluster from the configuration file
(see FILES below).

.SH OTHER OPTIONS
.LP
.I "-c configfile"
Provide an alternate name or location for the configuration file.
.LP
.I "-f number"
Set the maximum concurrency, currently unused.  
.I "-l powermandir"
Provide an alternate location for the PowerMan libraries.
.LP
.I "-q"
be quiet, i.e. don't print error messages.
.LP
.I "-r"
reverse, i.e. print nodes that are off rather than on
.LP
.I "-t"
query the temperature of the CPUs.

.SH "FILES"
$powermandir/bin/icebox
.br
$powermandir/etc/icebox.conf
.br

.SH "ORIGIN"
Developed by Andrew  Uselton <useton2@llnl.gov> on LLNL's 
Intel Linux clusters.

.SH "SEE ALSO"
digi(1), icebox.conf(5), etherwake(1), pm(1), rmc(1), wti(1)

