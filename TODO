####################################################################
# $Id$
####################################################################

New stuff:
	* connected to powerman daemon, "names toad[" crashes server
	* should be possible to query status of individual nodes
	  (i.e. if I want to know if mcr42 is on, shouldn't have to touch
	  every ice box)  "update plugs" and "update nodes" take no args.
	* Remove cruft associated with "completion" regex, e.g. makeScriptEl()
	  third argument should go away and everything beneath it.
	  
Andrew's old list:
	* telnet based query and control for icebox
	* introduce configuration generator (2 days)
	* adapt packaging to use autoconf stuff (4 days)
	* review gpg use (0.5 days)
	* package vicebox for distribution
	* Envrionment variable(s) - config file, ...
	* Break Config stuff out of Globals
	* Organic(tm) parser
	* Refine structure handling - aim for reinitialization
	* Node ranges
	* Targets of ifs, fors, and whiles should be simple

Code review general suggestions for all code but server:
 	* Comments may want to line up with current indentation
   	  do not break up if conditionals
	* Consider consistency with open/Open.
	* abstract pid file operations.
	* document capitalisation scheme in function names.
	* pair typedefs with struct defs (jg - mostly done)
 	* struct name_of_struct; /* forward decl of struct */
	  struct name_of_struct *foo;
	  /* H&S 4.2.3 : forward references */
 	* standardize on location of comment block in functions
 	* prefer atoi() or strtol() over sscanf()
	* use static wherever possible
 	* Document struct fields
	* Evaluate data structures for addition of magic cookies
	* define out_of_memory() handler as fatal error.
	* for powerman client, do not query all nodes in all cases
	* in client, issue warnings if no match is found for target.
	* rethink caching polled data or last query and allow an option
	  to query cached data. (Long Term)
	* think about parallelizing commands sent to separate iceboxes 
	  (power control devices) (think about mcr icebox case where we power 
	  on all nodes save one in each icebox)
   	  1. parallelize for efficiency
   	  2. think about mcr 'on *' and limiting number of nodes 
	     simultaneously powered on e.g. for whole cluster N nodes can 
	     be powered on at once for each power control device M nodes 
	     can be powered at once
	* (from Andrew): consider a fanout for the above
	* configuration file distributed with powerman should be empty so 
	  warning is generated.
	* make vicebox a separate RPM (preferably an RPM subpackage).
	* include init script for powermand (/etc/init.d/powermand)
	* do one pid file and enforce 1 powermand unless explicitly overridden

Config comments:
	* if cluster name is not used remove it from the config file.
	* add comment in config file that "log file" is only for debugging 
	  purposes.
	* change "client listener" to something more clear, like 
	  "daemon listener" 
	* take out main select loop "timeout interval" - a user probably would 
	  not understand its purpose.
	* "inter-device delay" : document that delay is just between commands 
 	* In general, say what the option is for before describing the format.
	* if you could split the config option descriptions into sections to 
	   render the comments more readable: e.g. purpose, format, .. etc.
 	* "update interval" : come up with a value to disable "updates" e.g. `0'
 	* device line: comment out default device.
          - change "Icebox" "icebox" ... to "Icebox" "icebox0-1" ...
	* comment: too much descriptive text in device config file
	* in device file, should the keyword be "device" and not 
	  "specification" 
	* Do not have multi-word keywords, use underscore, e.g. "device_type"
	* Consider changing "TCP" to some other, higher-level name, to avoid 
	  confusion try "RAW" 
	* for on/off strings, add a note that it is assumed that the strings 
	  sent to the device are the same as those recieved from the device.
	* add comment regarding and/or fix problem with <10 plugs connected 
	  to an icebox. 
	* make "device timeout" more general to every expect.
	* delete "string interpretation mode" which is specific to PMD 
	* In the config file example, explain plug names 
	* consider changing syntax on "map" to refer to matched substrings 
	  with $1, $2, ...  etc. This will make the map lines more clear: 
	  e.g.: map "$1" "1"
