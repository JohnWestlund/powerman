# 
# $Id$
# $Source$
#
begin specification
	name "vpc"
	type "TCP"
	off string "OFF"
	on string  "ON"
	plug count 8
	device timeout 5.0
#	ping period 10.0
	begin PING_SCRIPT
		send "\r\n"
		expect "vpc> "
	end PING_SCRIPT
	begin LOGIN_SCRIPT
		send "login\r\n"
		expect "[0-9]* OK"
	end LOGIN_SCRIPT
	begin LOGOUT_SCRIPT
		send "logoff\r\n"
		expect "[0-9]* OK"
	end LOGOUT_SCRIPT
	begin STATUS_ALL_SCRIPT
		send "stat\r\n"
		expect "plug 0: (ON|OFF)"
			map $1 "0"
		expect "plug 1: (ON|OFF)"
			map $1 "1"
		expect "plug 2: (ON|OFF)"
			map $1 "2"
		expect "plug 3: (ON|OFF)"
			map $1 "3"
		expect "plug 4: (ON|OFF)"
			map $1 "4"
		expect "plug 5: (ON|OFF)"
			map $1 "5"
		expect "plug 6: (ON|OFF)"
			map $1 "6"
		expect "plug 7: (ON|OFF)"
			map $1 "7"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end STATUS_ALL_SCRIPT
	begin STATUS_SOFT_ALL_SCRIPT
		send "stat_soft\r\n"
		expect "plug 0: (ON|OFF)"
			map $1 "0"
		expect "plug 1: (ON|OFF)"
			map $1 "1"
		expect "plug 2: (ON|OFF)"
			map $1 "2"
		expect "plug 3: (ON|OFF)"
			map $1 "3"
		expect "plug 4: (ON|OFF)"
			map $1 "4"
		expect "plug 5: (ON|OFF)"
			map $1 "5"
		expect "plug 6: (ON|OFF)"
			map $1 "6"
		expect "plug 7: (ON|OFF)"
			map $1 "7"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end STATUS_SOFT_ALL_SCRIPT
	begin ON_SCRIPT
		send "on %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end ON_SCRIPT
	begin ON_ALL_SCRIPT
		send "on *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end ON_ALL_SCRIPT
	begin OFF_SCRIPT
		send "off %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end OFF_SCRIPT
	begin OFF_ALL_SCRIPT
		send "off *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end OFF_ALL_SCRIPT
	begin CYCLE_SCRIPT
		send "off %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
		delay 1.0
		send "on %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end CYCLE_SCRIPT
	begin CYCLE_ALL_SCRIPT
		send "off *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
		delay 1.0
		send "on *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	end CYCLE_ALL_SCRIPT
	plug name "0"
	plug name "1"
	plug name "2"
	plug name "3"
	plug name "4"
	plug name "5"
	plug name "6"
	plug name "7"
end specification
