# 
# $Id$
# $Source$
#
specification {
	name 		"vpc"
	type 		"TCP"
	offstring 	"OFF"
	onstring  	"ON"
	maxplugcount 	8
	timeout 	5.0
#	pingperiod 	10.0
	script ping {
		send "\r\n"
		expect "vpc> "
	}
	script login {
		send "login\r\n"
		expect "[0-9]* OK"
	}
	script logout {
		send "logoff\r\n"
		expect "[0-9]* OK"
	}
	script status_all {
		send "stat\r\n"
		expect "plug (0): (ON|OFF)"
		setstatus $1 $2
		expect "plug (1): (ON|OFF)"
		setstatus $1 $2
		expect "plug (2): (ON|OFF)"
		setstatus $1 $2
		expect "plug (3): (ON|OFF)"
		setstatus $1 $2
		expect "plug (4): (ON|OFF)"
		setstatus $1 $2
		expect "plug (5): (ON|OFF)"
		setstatus $1 $2
		expect "plug (6): (ON|OFF)"
		setstatus $1 $2
		expect "plug (7): (ON|OFF)"
		setstatus $1 $2
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script status_soft_all {
		send "stat_soft\r\n"
		setstatus $1 $2
		expect "plug (0): (ON|OFF)"
		setstatus $1 $2
		expect "plug (1): (ON|OFF)"
		setstatus $1 $2
		expect "plug (2): (ON|OFF)"
		setstatus $1 $2
		expect "plug (3): (ON|OFF)"
		setstatus $1 $2
		expect "plug (4): (ON|OFF)"
		setstatus $1 $2
		expect "plug (5): (ON|OFF)"
		setstatus $1 $2
		expect "plug (6): (ON|OFF)"
		setstatus $1 $2
		expect "plug (7): (ON|OFF)"
		setstatus $1 $2
		expect "[0-9]* OK"
		setstatus $1 $2
		expect "[0-9]* vpc> "
		setstatus $1 $2
	}
	script on {
		send "on %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script on_all {
		send "on *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script off {
		send "off %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script off_all {
		send "off *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script cycle {
		send "off %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
		delay 1.0
		send "on %s\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	script cycle_all {
		send "off *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
		delay 1.0
		send "on *\r\n"
		expect "[0-9]* OK"
		expect "[0-9]* vpc> "
	}
	plug name "0"
	plug name "1"
	plug name "2"
	plug name "3"
	plug name "4"
	plug name "5"
	plug name "6"
	plug name "7"
}
